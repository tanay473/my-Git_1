{% extends "base.html" %}

{% block content %}
<div class="dashboard" data-role="director">
    <aside class="sidebar">
        <div class="sidebar-header">
            <h3>Director Dashboard</h3>
        </div>
        <ul class="sidebar-menu">
            <li class="sidebar-item"><a href="#projects" class="sidebar-link active">Projects</a></li>
            <li class="sidebar-item"><a href="#team-management" class="sidebar-link">Team Management</a></li>
            <li class="sidebar-item"><a href="#project-overview" class="sidebar-link">Project Overview</a></li>
            <li class="sidebar-item"><a href="#version-control" class="sidebar-link">Version Control</a></li>
            <li class="sidebar-item"><a href="#approvals" class="sidebar-link">Approvals</a></li>
        </ul>
    </aside>
    
    <div class="content">
        <!-- Projects Section -->
        <section id="projects" class="content-section">
            <div class="section-header">
                <h2>My Projects</h2>
                <button class="btn btn-primary" id="create-workspace-btn">New Project</button>
            </div>
            
            <div class="projects-grid">
                {% for project in projects %}
                <div class="card workspace-card">
                    <div class="workspace-header">
                        <h3 class="workspace-title">{{ project.title }}</h3>
                        <span class="project-status">{{ project.status }}</span>
                    </div>
                    <p class="project-description">{{ project.description }}</p>
                    <div class="project-meta">
                        <span class="project-date">Last edited: {{ project.last_edited }}</span>
                        <span class="project-members">{{ project.members }} members</span>
                    </div>
                    <div class="project-actions">
                        <button class="btn btn-secondary">Open</button>
                        <button class="btn btn-accent invite-btn" data-workspace-id="{{ project.id }}">Invite</button>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
        
        <!-- Team Management Section -->
        <section id="team-management" class="content-section" style="display: none;">
            <h2>Team Management</h2>
            
            <div class="card">
                <div class="team-header">
                    <h3 class="card-title">Current Team</h3>
                    <button class="btn btn-primary">Add Team Member</button>
                </div>
                
                <div class="team-members">
                    <div class="team-member">
                        <img src="{{ url_for('static', filename='images/avatar-placeholder.png') }}" alt="Team Member" class="member-avatar">
                        <div class="member-info">
                            <h4 class="member-name">Jane Smith</h4>
                            <p class="member-role">Editor</p>
                        </div>
                        <div class="member-actions">
                            <button class="btn btn-secondary btn-sm">Message</button>
                            <button class="btn btn-secondary btn-sm">Assign Task</button>
                            <button class="btn btn-accent btn-sm">Remove</button>
                        </div>
                    </div>
                    
                    <div class="team-member">
                        <img src="{{ url_for('static', filename='images/avatar-placeholder.png') }}" alt="Team Member" class="member-avatar">
                        <div class="member-info">
                            <h4 class="member-name">Mike Johnson</h4>
                            <p class="member-role">Music Director</p>
                        </div>
                        <div class="member-actions">
                            <button class="btn btn-secondary btn-sm">Message</button>
                            <button class="btn btn-secondary btn-sm">Assign Task</button>
                            <button class="btn btn-accent btn-sm">Remove</button>
                        </div>
                    </div>
                    
                    <div class="team-member">
                        <img src="{{ url_for('static', filename='images/avatar-placeholder.png') }}" alt="Team Member" class="member-avatar">
                        <div class="member-info">
                            <h4 class="member-name">Sarah Williams</h4>
                            <p class="member-role">Editor</p>
                        </div>
                        <div class="member-actions">
                            <button class="btn btn-secondary btn-sm">Message</button>
                            <button class="btn btn-secondary btn-sm">Assign Task</button>
                            <button class="btn btn-accent btn-sm">Remove</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title">Role Management</h3>
                <p>Assign and manage roles for team members.</p>
                
                <div class="role-management">
                    <div class="role-item">
                        <div class="role-info">
                            <h4 class="role-name">Editor</h4>
                            <p class="role-description">Responsible for video editing and effects</p>
                        </div>
                        <div class="role-members">
                            <span class="role-member">Jane Smith</span>
                            <span class="role-member">Sarah Williams</span>
                        </div>
                        <div class="role-actions">
                            <button class="btn btn-secondary btn-sm">Edit Permissions</button>
                        </div>
                    </div>
                    
                    <div class="role-item">
                        <div class="role-info">
                            <h4 class="role-name">Music Director</h4>
                            <p class="role-description">Handles all audio and music composition</p>
                        </div>
                        <div class="role-members">
                            <span class="role-member">Mike Johnson</span>
                        </div>
                        <div class="role-actions">
                            <button class="btn btn-secondary btn-sm">Edit Permissions</button>
                        </div>
                    </div>
                    
                    <div class="role-item">
                        <div class="role-info">
                            <h4 class="role-name">Director</h4>
                            <p class="role-description">Project lead and final decision maker</p>
                        </div>
                        <div class="role-members">
                            <span class="role-member">John Doe (You)</span>
                        </div>
                        <div class="role-actions">
                            <button class="btn btn-secondary btn-sm">Edit Permissions</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Project Overview Section -->
        <section id="project-overview" class="content-section" style="display: none;">
            <h2>Project Overview</h2>
            
            <div class="card">
                <div class="overview-header">
                    <h3 class="card-title">Project: Summer Campaign</h3>
                    <div class="project-status">In Progress</div>
                </div>
                
                <div class="overview-details">
                    <div class="overview-item">
                        <span class="overview-label">Start Date:</span>
                        <span class="overview-value">May 10, 2025</span>
                    </div>
                    <div class="overview-item">
                        <span class="overview-label">Deadline:</span>
                        <span class="overview-value">June 15, 2025</span>
                    </div>
                    <div class="overview-item">
                        <span class="overview-label">Team Size:</span>
                        <span class="overview-value">4 members</span>
                    </div>
                    <div class="overview-item">
                        <span class="overview-label">Completion:</span>
                        <span class="overview-value">45%</span>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" style="width: 45%;"></div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title">Department Progress</h3>
                
                <div class="department-progress">
                    <div class="department-item">
                        <div class="department-info">
                            <h4 class="department-name">Editing</h4>
                            <div class="department-progress-bar">
                                <div class="progress-fill" style="width: 60%;"></div>
                            </div>
                            <span class="department-percentage">60%</span>
                        </div>
                        <div class="department-actions">
                            <button class="btn btn-secondary btn-sm">View Details</button>
                        </div>
                    </div>
                    
                    <div class="department-item">
                        <div class="department-info">
                            <h4 class="department-name">Music & Sound</h4>
                            <div class="department-progress-bar">
                                <div class="progress-fill" style="width: 40%;"></div>
                            </div>
                            <span class="department-percentage">40%</span>
                        </div>
                        <div class="department-actions">
                            <button class="btn btn-secondary btn-sm">View Details</button>
                        </div>
                    </div>
                    
                    <div class="department-item">
                        <div class="department-info">
                            <h4 class="department-name">Visual Effects</h4>
                            <div class="department-progress-bar">
                                <div class="progress-fill" style="width: 25%;"></div>
                            </div>
                            <span class="department-percentage">25%</span>
                        </div>
                        <div class="department-actions">
                            <button class="btn btn-secondary btn-sm">View Details</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title">Timeline & Milestones</h3>
                
                <div class="timeline">
                    <div class="timeline-item completed">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <h4 class="timeline-title">Project Kickoff</h4>
                            <p class="timeline-date">May 10, 2025</p>
                            <p class="timeline-description">Initial planning and team assignment</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item completed">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <h4 class="timeline-title">Script Finalization</h4>
                            <p class="timeline-date">May 15, 2025</p>
                            <p class="timeline-description">Final script approved for production</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item active">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <h4 class="timeline-title">Rough Cut Review</h4>
                            <p class="timeline-date">May 25, 2025</p>
                            <p class="timeline-description">Review of initial edit and music</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <h4 class="timeline-title">Final Cut Approval</h4>
                            <p class="timeline-date">June 5, 2025</p>
                            <p class="timeline-description">Final review and approval of complete project</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <h4 class="timeline-title">Project Delivery</h4>
                            <p class="timeline-date">June 15, 2025</p>
                            <p class="timeline-description">Final delivery to client</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Version Control Section -->
        <section id="version-control" class="content-section" style="display: none;">
            <h2>Version Control</h2>
            
            <div class="card">
                <div class="version-control-header">
                    <h3 class="card-title">Project: Summer Campaign</h3>
                    <div class="version-control-actions">
                        <button class="btn btn-primary" id="commit-changes">Commit Changes</button>
                        <button class="btn btn-secondary" id="revert-changes">Revert Changes</button>
                    </div>
                </div>
                
                <div class="version-status">
                    <p><strong>Status:</strong> 5 uncommitted changes across departments</p>
                </div>
                
                <div class="changes-list">
                    <div class="change-item">
                        <span class="change-type">Modified</span>
                        <span class="change-file">main_edit.mp4</span>
                        <span class="change-department">Editing</span>
                        <span class="change-author">Jane Smith</span>
                        <span class="change-time">10 minutes ago</span>
                    </div>
                    <div class="change-item">
                        <span class="change-type">Added</span>
                        <span class="change-file">background_music.mp3</span>
                        <span class="change-department">Music</span>
                        <span class="change-author">Mike Johnson</span>
                        <span class="change-time">25 minutes ago</span>
                    </div>
                    <div class="change-item">
                        <span class="change-type">Modified</span>
                        <span class="change-file">opening_credits.txt</span>
                        <span class="change-department">Editing</span>
                        <span class="change-author">Sarah Williams</span>
                        <span class="change-time">45 minutes ago</span>
                    </div>
                </div>
                
                <div class="version-history-header">
                    <h4>Version History</h4>
                    <button class="btn btn-secondary" id="version-history-btn">Show History</button>
                </div>
                
                <div id="version-history" style="display: none;">
                    <div class="version-item">
                        <div class="version-info">
                            <span class="version-id">v1.5</span>
                            <span class="version-date">May 20, 2025</span>
                            <span class="version-author">John Doe</span>
                        </div>
                        <p class="version-message">Approved initial music and editing changes</p>
                        <div class="version-changes">
                            <span class="version-change">3 files changed</span>
                            <span class="version-departments">Editing, Music</span>
                        </div>
                        <button class="btn btn-secondary btn-sm">Restore</button>
                    </div>
                    <div class="version-item">
                        <div class="version-info">
                            <span class="version-id">v1.4</span>
                            <span class="version-date">May 18, 2025</span>
                            <span class="version-author">Jane Smith</span>
                        </div>
                        <p class="version-message">Updated color grading for all scenes</p>
                        <div class="version-changes">
                            <span class="version-change">1 file changed</span>
                            <span class="version-departments">Editing</span>
                        </div>
                        <button class="btn btn-secondary btn-sm">Restore</button>
                    </div>
                    <div class="version-item">
                        <div class="version-info">
                            <span class="version-id">v1.3</span>
                            <span class="version-date">May 17, 2025</span>
                            <span class="version-author">Mike Johnson</span>
                        </div>
                        <p class="version-message">Added initial soundtrack</p>
                        <div class="version-changes">
                            <span class="version-change">2 files changed</span>
                            <span class="version-departments">Music</span>
                        </div>
                        <button class="btn btn-secondary btn-sm">Restore</button>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title">Department Commits</h3>
                
                <div class="department-tabs">
                    <button class="department-tab active">All</button>
                    <button class="department-tab">Editing</button>
                    <button class="department-tab">Music</button>
                    <button class="department-tab">Visual Effects</button>
                </div>
                
                <div class="department-commits">
                    <div class="commit-item">
                        <div class="commit-header">
                            <span class="commit-id">c12345</span>
                            <span class="commit-department">Editing</span>
                            <span class="commit-date">May 20, 2025</span>
                        </div>
                        <p class="commit-message">Updated transition effects between scenes</p>
                        <div class="commit-author">
                            <img src="{{ url_for('static', filename='images/avatar-placeholder.png') }}" alt="Author" class="commit-avatar">
                            <span class="commit-name">Jane Smith</span>
                        </div>
                    </div>
                    
                    <div class="commit-item">
                        <div class="commit-header">
                            <span class="commit-id">c12344</span>
                            <span class="commit-department">Music</span>
                            <span class="commit-date">May 19, 2025</span>
                        </div>
                        <p class="commit-message">Added new background music for opening scene</p>
                        <div class="commit-author">
                            <img src="{{ url_for('static', filename='images/avatar-placeholder.png') }}" alt="Author" class="commit-avatar">
                            <span class="commit-name">Mike Johnson</span>
                        </div>
                    </div>
                    
                    <div class="commit-item">
                        <div class="commit-header">
                            <span class="commit-id">c12343</span>
                            <span class="commit-department">Editing</span>
                            <span class="commit-date">May 18, 2025</span>
                        </div>
                        <p class="commit-message">Fixed color grading issues in scene 2</p>
                        <div class="commit-author">
                            <img src="{{ url_for('static', filename='images/avatar-placeholder.png') }}" alt="Author" class="commit-avatar">
                            <span class="commit-name">Sarah Williams</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Approvals Section -->
        <section id="approvals" class="content-section" style="display: none;">
            <h2>Approvals</h2>
            
            <div class="card">
                <h3 class="card-title">Pending Approvals</h3>
                
                <div class="approvals-list">
                    <div class="approval-item">
                        <div class="approval-info">
                            <h4 class="approval-title">Scene 3 Edit</h4>
                            <p class="approval-description">Final cut of the third scene with updated transitions</p>
                            <div class="approval-meta">
                                <span class="approval-department">Editing</span>
                                <span class="approval-requester">Jane Smith</span>
                                <span class="approval-date">May 21, 2025</span>
                            </div>
                        </div>
                        <div class="approval-actions">
                            <button class="btn btn-primary">Preview</button>
                            <button class="btn btn-accent">Approve</button>
                            <button class="btn btn-secondary">Request Changes</button>
                        </div>
                    </div>
                    
                    <div class="approval-item">
                        <div class="approval-info">
                            <h4 class="approval-title">Main Theme Music</h4>
                            <p class="approval-description">Updated main theme with orchestral elements</p>
                            <div class="approval-meta">
                                <span class="approval-department">Music</span>
                                <span class="approval-requester">Mike Johnson</span>
                                <span class="approval-date">May 20, 2025</span>
                            </div>
                        </div>
                        <div class="approval-actions">
                            <button class="btn btn-primary">Preview</button>
                            <button class="btn btn-accent">Approve</button>
                            <button class="btn btn-secondary">Request Changes</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title">Approval History</h3>
                
                <div class="approval-history">
                    <div class="approval-history-item approved">
                        <div class="approval-history-info">
                            <h4 class="approval-history-title">Opening Credits</h4>
                            <div class="approval-history-meta">
                                <span class="approval-history-department">Editing</span>
                                <span class="approval-history-requester">Sarah Williams</span>
                                <span class="approval-history-date">May 19, 2025</span>
                            </div>
                        </div>
                        <div class="approval-history-status">
                            <span class="status-badge approved">Approved</span>
                            <span class="approval-history-approver">by You</span>
                        </div>
                    </div>
                    
                    <div class="approval-history-item rejected">
                        <div class="approval-history-info">
                            <h4 class="approval-history-title">Scene 2 Sound Effects</h4>
                            <div class="approval-history-meta">
                                <span class="approval-history-department">Music</span>
                                <span class="approval-history-requester">Mike Johnson</span>
                                <span class="approval-history-date">May 18, 2025</span>
                            </div>
                        </div>
                        <div class="approval-history-status">
                            <span class="status-badge rejected">Changes Requested</span>
                            <span class="approval-history-approver">by You</span>
                        </div>
                    </div>
                    
                    <div class="approval-history-item approved">
                        <div class="approval-history-info">
                            <h4 class="approval-history-title">Color Grading</h4>
                            <div class="approval-history-meta">
                                <span class="approval-history-department">Editing</span>
                                <span class="approval-history-requester">Jane Smith</span>
                                <span class="approval-history-date">May 17, 2025</span>
                            </div>
                        </div>
                        <div class="approval-history-status">
                            <span class="status-badge approved">Approved</span>
                            <span class="approval-history-approver">by You</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- Create Workspace Modal -->
<div id="create-workspace-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Create New Project</h2>
            <span class="close-btn">&times;</span>
        </div>
        <div class="modal-body">
            <form id="create-workspace-form">
                <div class="form-group">
                    <label class="form-label">Project Name</label>
                    <input type="text" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-input" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Project Type</label>
                    <select class="form-input">
                        <option>Film</option>
                        <option>Commercial</option>
                        <option>Music Video</option>
                        <option>Documentary</option>
                        <option>Other</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Create Project</button>
                    <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
